<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editable Content</title>
    <style>
        #audioContainer {
            position: fixed;
            top: 0;
            width: 100%;
            background-color: white;
            z-index: 9999;
            padding: 10px;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        #audioContent {
            margin-top: 50px;
        }
        
        .editable {
            border: 1px solid #ddd;
            padding: 5px;
            margin-bottom: 10px;
        }
        
        #speedIndicator {
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div id="audioContainer">
        <audio id="audioPlayer" controls>
            <source src="https://github.com/IgorGeraskin22/transribe/raw/gh-pages/1.mp3">
            Ваш браузер не поддерживает аудиоэлемент.
        </audio>
        <button onclick="skip(-2)">Назад</button>
        <button onclick="skip(2)">Вперёд</button>
        <button onclick="changeSpeed(-0.1)">Уменьшить скорость</button>
        <button onclick="changeSpeed(0.1)">Увеличить скорость</button>
        <span id="speedIndicator">Скорость: 1.0x</span>

        <!-- Добавленные элементы в разметке -->
        <input type="number" id="offsetInput" value="0">
		<button onclick="decreaseOffset()">Время назад</button>
        <button onclick="increaseOffset()">Время вперед</button>
        
    </div>

    <div id="audioContent">
        <div class="editable" contenteditable="true" id="editableText">
            <br />
			
		
       <p></p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(0)">0:00:00</a>  Холодно.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(1)">0:00:01</a>  Холодно, да. На эту неделю прям холодно.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(4)">0:00:04</a>  А вы в каком еще, расскажите, в каком вы городе?</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(7)">0:00:07</a>  Я живу в Тамбове. Это от Москвы 60 километров.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(10)">0:00:10</a>  Да, да, да. Ну там, наверное, тоже холодно. У нас тоже тут зима пришла. Прям сегодня минус 5 было, по-моему, ночью. Сейчас, по-моему, минус 1.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(19)">0:00:19</a>  А вы где, напомните?</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(20)">0:00:20</a>  Я в Краснодаре.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(21)">0:00:21</a>  Ну, в Краснодаре-то прекрасный климат. У нас минус 22, например.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(26)">0:00:26</a>  Так в том-то и дело, что прекрасно. У нас тут минус 1 и уже вообще не знаешь, куда прятаться.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(32)">0:00:32</a>  Ну да, да, это точно.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(35)">0:00:35</a>  Так что мы тут как-то страдая, а не привыкшие. Мария, знаете что, я сейчас написал Данилу, я могу вам продублировать это письмо, которое Данилу, да? Потому что у меня тут завал, тут опять как бы месяц на подходе, у меня дела продаж нету, уже месяц нету. А у меня оплачено, вот как вы знаете, расширено. Ну я, в принципе, расширенно, я уже хотел от него отказываться, но я только его держу из-за вот этого, что отдел продажи, чтобы у них там все были документы, потому что, ну раз заказная такая услуга большая, ну с этим, с отделом продаж, 8 человек. И они мне еще ни одного чека не передали, и вообще непонятно. И обратную связь, это нам не сильно, они там, я им вчера писал, а потом они написали, дали одних сотрудников, те отказались. Я с ними созвонюсь, они говорят, да нет, мы же там предупредили их, они меня не повещают. Я у них просил дать записи разговоров, чтобы уже я знал, что за сотрудники там забирают, ну когда они с ним предупредили. Тоже не дали ничего. Вот, и сейчас, на сегодняшний день, получается, еще до сих пор ни одного сотрудника у меня нет. Вообще, даже я с кем-то не созвонился, мне никто не подтвердил, что они там на обучении или готовы там через какое-то время после обучения приступать.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(108)">0:01:48</a>  То есть вот такая... И нет понимания, когда будет, да?</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(110)">0:01:50</a>  Да, вот они мне не дают ничего конкретного, я вам сейчас могу переслать, что это Даниил написал. Потом у меня же еще тоже подоговор от головного офиса, РОП от головного офиса, да, специально под отдел продаж. Ну тоже после того, как отдел продаж, и мне сразу предложили, я говорю, да, конечно, я их научить ничего не могу и даже проконтролировать толком, потому что я сам такой же, как и они. Вот, тоже оплана. То есть, получается, месяц прошел, а там у меня как бы договор на шесть месяцев. Получается, месяц уже потерян, и тоже там и оплаченный, и потерянный. То есть вот такая ситуация какая-то у меня веселая. Вот, ну, я думаю, что мы с вами что-нибудь решим. Давайте я вам пришлю, чтобы вы были... Должны решить.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(157)">0:02:37</a>  Пришли сюда, я с своей стороны тоже.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(159)">0:02:39</a>  Я вам пришлю то письмо, которое я Даниилу отправил. Ну вот я, наверное, двадцать назад отправил, вот пока</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(165)">0:02:45</a>  ничего не было. Ну, регламент ответа два часа, общения двух часов.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(168)">0:02:48</a>  Да, нет, ну просто говорю, ну, давайте я вас отпишу, чтобы вы были в курсе. Да, хорошо.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(172)">0:02:52</a>  Одно целое.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(173)">0:02:53</a>  Хорошо, да. У вас там вопрос, то есть не вопрос, а если у вас, вот я посмотрел вас, написали, что 15 часов у вас там, в совещании какое-то, наверное.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(182)">0:03:02</a>  Да, буду финансовым директором, да, да, да.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(185)">0:03:05</a>  Ну, да, примите, ну, подумайте, ну, вот там как-то этот вопрос тоже весь, ну, что бы понять. Ну, подумайте, как правильно, чтобы там тоже и людей там сильно там не загнобить, как говорят, да, ну, народе. Ну, я поняла.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(197)">0:03:17</a>  Да.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(198)">0:03:18</a>  Ну, чтобы такого виза не было. Ну, как-то урегулировать правильный. Хорошо, Валерий, я уточню какую-то информацию, вам тоже сообщу.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(202)">0:03:22</a>  А вы с моей стороны так же пишите тоже им в группу, попросите, допустим, с вами встречи. Да, да, да, так я пишу, я пишу, и вот там у них у Данила Мария, да, по-моему, уже там прямой зам, да, ну, не знаю, на каком там уровне. Виктория. Виктория, да, Виктория прямой.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(209)">0:03:29</a>  И потом мне еще там сказали, что вопросы там через Анну, потом Ирину, а потом уже, если какой-то вопрос не решается, тогда на Марию. Ну, да, да, да. Ну, пока я вот Виктории писал, потому что уже никто не отвечает, я Виктории написал, решу со сотрудниками, ну, ничего мне разумительного ничего не сказали еще до сих пор.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(243)">0:04:03</a>  Я напишу ему тоже сейчас, узнаю что-то, какую-то информацию, вам тогда предоставлю.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(248)">0:04:08</a>  Все, хорошо, договорились. Сейчас вам копию-то пришью, что я написал. Все, спасибо.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(253)">0:04:13</a>  Поняла. На этот месяц вы не это, по поводу оплаты ничего?</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(257)">0:04:17</a>  Вообще, вот, Мария, я по этому уже бью колокола, потому что ситуация вот такая, потому что уже подходит месяц, мне нужно какие-то, и вам нужно закрыть там, и у меня еще по лицензионному, да, так тут лицензий небольшой. Вот, я-то планировал, что сейчас группа заработает, и мы эти деньги, я, естественно, там не себе положу в карман.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(276)">0:04:36</a>  Ну, мы говорили, я помню.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(278)">0:04:38</a>  Все до копейки отправлю.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">МАРИЯ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(279)">0:04:39</a>  Я просто про то, что этот месяц еще есть, на этот месяц тогда не получится вам скидку сделать. Вы же помните, что вам согласовали, мы договорились.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЕВЧЕНКО</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(288)">0:04:48</a>  Да ну, сейчас давайте с этим вопросом решим, может быть, мы по этому вопросу выйдем на какой-то, а они компенсируют или как-то, они будут решать уже за этот вопрос, потому что это на них полностью вина. Я себя не сменяю, не снимаю ничего, но они вообще мне подвели этот месяц. 22 января они должны были мне людей предоставить. У меня и по РОПу, и по всему, ой, января, не января, а декабря. То есть сегодня уже месяц, ровно месяц. А еще вообще даже неизвестно, потому что если даже они только сейчас людей каких-то возьмут на обучение, это еще через неделю, то есть это уже будет, ну, поймите сами. Все, хорошо, тогда я вам сейчас отправляю, мы там подумаем, что нам делать. Хорошо, спасибо. Спасибо.</p>
<p></p>




	   </div>
        <button onclick="saveContent()">Сохранить</button>
    </div>

    <script>
        const audioPlayer = document.getElementById('audioPlayer');
        const editableText = document.getElementById('editableText');
        const speedIndicator = document.getElementById('speedIndicator');

        function skip(time) {
            audioPlayer.currentTime += time;
        }

        function jumpToTime(seconds) {
            const offset = parseFloat(document.getElementById('offsetInput').value) || 0;
            const startTime = seconds + offset;
            const hours = Math.floor(startTime / 3600);
            const minutes = Math.floor((startTime % 3600) / 60);
            const remainingSeconds = startTime % 60;

            const formattedTime = `${padZero(hours)}:${padZero(minutes)}:${padZero(remainingSeconds)}`;
            audioPlayer.currentTime = startTime;
            
            setTimeout(() => {
                audioPlayer.play();
                console.log(`Jumping to time: ${formattedTime} (with offset: ${offset})`);
            }, 2000);
        }

        function padZero(num) {
            return num.toString().padStart(2, '0');
        }

        function saveContent() {
            localStorage.setItem('editableContent', editableText.innerHTML);
            alert('Текст сохранен локально!');
        }

        function changeSpeed(amount) {
            audioPlayer.playbackRate += amount;
            speedIndicator.textContent = `Скорость: ${audioPlayer.playbackRate.toFixed(1)}x`;
        }

        function increaseOffset() {
            const offsetInput = document.getElementById('offsetInput');
            offsetInput.value = parseFloat(offsetInput.value) + 1;
        }

        function decreaseOffset() {
            const offsetInput = document.getElementById('offsetInput');
            offsetInput.value = parseFloat(offsetInput.value) - 1;
            jumpToTime(audioPlayer.currentTime); // Применяем новое смещение времени сразу
        }

        window.onload = function() {
            const storedContent = localStorage.getItem('editableContent');
            if (storedContent) {
                editableText.innerHTML = storedContent;
            }
        }
    </script>
</body>
</html>

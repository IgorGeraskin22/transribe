<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editable Content</title>
    <style>
        #audioContainer {
            position: fixed;
            top: 0;
            width: 100%;
            background-color: white;
            z-index: 9999;
            padding: 10px;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        #audioContent {
            margin-top: 50px;
        }
        
        .editable {
            border: 1px solid #ddd;
            padding: 5px;
            margin-bottom: 10px;
        }
        
        #speedIndicator {
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div id="audioContainer">
        <audio id="audioPlayer" controls>
            <source src="https://github.com/IgorGeraskin22/transribe/raw/gh-pages/1.mp3">
            Ваш браузер не поддерживает аудиоэлемент.
        </audio>
        <button onclick="skip(-2)">Назад</button>
        <button onclick="skip(2)">Вперёд</button>
        <button onclick="changeSpeed(-0.1)">Уменьшить скорость</button>
        <button onclick="changeSpeed(0.1)">Увеличить скорость</button>
        <span id="speedIndicator">Скорость: 1.0x</span>

        <!-- Добавленные элементы в разметке -->
        <input type="number" id="offsetInput" value="0">
		<button onclick="decreaseOffset()">Время назад</button>
        <button onclick="increaseOffset()">Время вперед</button>
        
    </div>

    <div id="audioContent">
        <div class="editable" contenteditable="true" id="editableText">
            <br />
			
		
       <p></p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЛЫКОВ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(0)">0:00:00</a>  ….деньги заплатил, они кинули мне каких-то сотрудников и все, и забыли, и никто ничего обещанногоо не делал, и желание все пропало.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">РОМАН</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(9)">0:00:09</a>  То есть есть проблема по части оказания услуги отдел продаж под ключ, правильно?</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЛЫКОВ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(16)">0:00:16</a>  Да.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">РОМАН</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(17)">0:00:17</a>  Так, я понял, я вас услышал, мы сейчас тогда закончим разговаривать, когда я сразу коллегам напишу и будем выяснять, в чем дело.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЛЫКОВ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(25)">0:00:25</a>  Я хотел написать, что было два года назад, они по договору все обязательства выполнили, сотрудников предоставили, акт подписал, а запровождение их, как они обещали, ведение полностью, чтобы настроить отдел продаж, это было ноль просто. А и по договору так и есть, и все.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">РОМАН</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(42)">0:00:42</a>  Так, окей. А по ситуации сейчас у вас менеджеров нет, вы один?</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЛЫКОВ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(47)">0:00:47</a>  Нет, нет менеджеров, да, я сейчас торговую работу занимаюсь.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">РОМАН</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(50)">0:00:50</a>  Так, то есть, соответственно, собственно говоря, у вас этот вопрос просто вообще на паузе. То есть вы этим... Совсем не занимаюсь, у вас нет времени, да? Получается так.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЛЫКОВ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(58)">0:00:58</a>  Да, конечно, желание пропало.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">РОМАН</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(60)">0:01:00</a>  Нет времени, можно... Вообще грустно слышать, да, очень грустно слышать. Жаль, что мы с вами раньше не сконнектились, я в компании, как ни странно, более двух лет уже работаю, и я веду достаточно много успешных франчайзи наших партнеров. Я думаю, что тем не менее, несмотря на какую-то неудачу какую-то, которая, возможно, сложилась в определенных условиях, есть возможность вернуться к этому вопросу. И двигаться к успеху, к развитию. В этом я лично тоже заинтересован, потому что, ну, опять же, у нас мотивация есть у аккаунт-менеджеров, я старший аккаунт-менеджер. Вот, и я готов вам всячески помогать, если вы тоже начнете работать. Ну, соответственно, как минимум нужно работать с базой. Да, то есть нужно делать звонки, нужно искать клиентов. То есть, да, если вы этим не занимаетесь, то, само собой, ничего меняться не будет. Это, конечно, грустно. Вот.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЛЫКОВ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(115)">0:01:55</a>  Я не собирался этим заниматься. Вначале этим занимался, а потом собирался настроить отдел продаж, потому что у меня времени нет. Никак не получалось. Самому не получилось. Думал, вы поможете, и ваша компания не помогла. Только 500 тысяч, по-моему, заплатил. Никуда. И еще сотрудников, которые нанимали, которые нулевые были.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">РОМАН</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(135)">0:02:15</a>  Ага, да. А сами вы, соответственно, то есть, в основном вы делали на найм и на услугу отдел продаж под ключ, да?</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЛЫКОВ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(145)">0:02:25</a>  Да. У меня другие бизнесы есть, я по другим делам более честный работаю.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">РОМАН</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(151)">0:02:31</a>  Ну, я, хоть это и было два года назад, я постараюсь со своей стороны узнать, что там было и как.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЛЫКОВ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(158)">0:02:38</a>  Ну, в смысле, я знаю, что скажешь.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">РОМАН</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(162)">0:02:42</a>  Не, ну я хочу все равно разобраться, да. Давайте так, мы с вами на следующей неделе снова созвонимся и пообщаемся более детально. Надеюсь, у вас будет время. Вы можете сказать, на какой день на следующей неделе более-менее вам будет удобно пообщаться? Там полчасика хотя бы.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЛЫКОВ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(177)">0:02:57</a>  В любое время.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">РОМАН</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(181)">0:03:01</a>  А у вас время московское, нет?</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЛЫКОВ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(183)">0:03:03</a>  Нет, в Челябинске. Два часа разница.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">РОМАН</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(186)">0:03:06</a>  Два часа в плюс или в минус?</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЛЫКОВ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(188)">0:03:08</a>  Два часа в плюс.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">РОМАН</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(190)">0:03:10</a>  Ага, понял, понял. Ну ладно, тогда давайте я вам напишу на следующей неделе, мы с вами как-то попытаемся состыковаться. Я к тому времени как раз постараюсь узнать, что там за история была и чем можно вам еще попытаться помочь.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЛЫКОВ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(204)">0:03:24</a>  Да можете мне узнавать. Что там узнавать? Я же говорю, что вам скажут. Вы ничего не имеете.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">РОМАН</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(208)">0:03:28</a>  Я попробую все равно. Нет, я так не могу. Давайте. Хороших выходных вам тогда. До связи, Роман.</p>
<p><span style="color: 000000; font-weight: bold;"><span class="name1">ШЛЫКОВ</span></span>  <a href="javascript:void(0);" onclick="jumpToTime(215)">0:03:35</a>  Всего хорошего. Хорошо, до свидания. Спасибо.</p>
<p></p>




	   </div>
        <button onclick="saveContent()">Сохранить</button>
    </div>

    <script>
        const audioPlayer = document.getElementById('audioPlayer');
        const editableText = document.getElementById('editableText');
        const speedIndicator = document.getElementById('speedIndicator');

        function skip(time) {
            audioPlayer.currentTime += time;
        }

        function jumpToTime(seconds) {
            const offset = parseFloat(document.getElementById('offsetInput').value) || 0;
            const startTime = seconds + offset;
            const hours = Math.floor(startTime / 3600);
            const minutes = Math.floor((startTime % 3600) / 60);
            const remainingSeconds = startTime % 60;

            const formattedTime = `${padZero(hours)}:${padZero(minutes)}:${padZero(remainingSeconds)}`;
            audioPlayer.currentTime = startTime;
            
            setTimeout(() => {
                audioPlayer.play();
                console.log(`Jumping to time: ${formattedTime} (with offset: ${offset})`);
            }, 2000);
        }

        function padZero(num) {
            return num.toString().padStart(2, '0');
        }

        function saveContent() {
            localStorage.setItem('editableContent', editableText.innerHTML);
            alert('Текст сохранен локально!');
        }

        function changeSpeed(amount) {
            audioPlayer.playbackRate += amount;
            speedIndicator.textContent = `Скорость: ${audioPlayer.playbackRate.toFixed(1)}x`;
        }

        function increaseOffset() {
            const offsetInput = document.getElementById('offsetInput');
            offsetInput.value = parseFloat(offsetInput.value) + 1;
        }

        function decreaseOffset() {
            const offsetInput = document.getElementById('offsetInput');
            offsetInput.value = parseFloat(offsetInput.value) - 1;
            jumpToTime(audioPlayer.currentTime); // Применяем новое смещение времени сразу
        }

        window.onload = function() {
            const storedContent = localStorage.getItem('editableContent');
            if (storedContent) {
                editableText.innerHTML = storedContent;
            }
        }
    </script>
</body>
</html>
